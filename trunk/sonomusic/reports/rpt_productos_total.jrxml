<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rpt_productos_almacen" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="60e921f3-a6ca-452b-8ff3-85cc0fa0581f">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<queryString>
		<![CDATA[SELECT
     almacen.`idAlmacen` AS almacen_idAlmacen,
     almacen.`nom_alm` AS almacen_nom_alm,
     almacen.`ruc` AS almacen_ruc,
     productos.`idProductos` AS productos_idProductos,
     productos.`desc_pro` AS productos_desc_pro,
     productos.`marca` AS productos_marca,
     productos.`modelo` AS productos_modelo,
     productos.`serie` AS productos_serie,
     productos.`idUnd_medida` AS productos_idUnd_medida,
     productos.`comision` AS productos_comision,
     producto_almacen.`cant` AS producto_almacen_cant,
     producto_almacen.`precio` AS producto_almacen_precio,
     productos.`costo_compra` AS productos_costo_compra,
     und_medida.`idUnd_medida` AS und_medida_idUnd_medida,
     almacen.`dir_alm` AS almacen_dir_alm,
     almacen.`raz_soc` AS almacen_raz_soc
FROM
     `almacen` almacen INNER JOIN `producto_almacen` producto_almacen ON almacen.`idAlmacen` = producto_almacen.`idAlmacen`
     INNER JOIN `productos` productos ON producto_almacen.`idProductos` = productos.`idProductos`
     INNER JOIN `und_medida` und_medida ON productos.`idUnd_medida` = und_medida.`idUnd_medida`]]>
	</queryString>
	<field name="almacen_idAlmacen" class="java.lang.Integer"/>
	<field name="almacen_nom_alm" class="java.lang.String"/>
	<field name="almacen_ruc" class="java.lang.String"/>
	<field name="productos_idProductos" class="java.lang.Integer"/>
	<field name="productos_desc_pro" class="java.lang.String"/>
	<field name="productos_marca" class="java.lang.String"/>
	<field name="productos_modelo" class="java.lang.String"/>
	<field name="productos_serie" class="java.lang.String"/>
	<field name="productos_idUnd_medida" class="java.lang.Long"/>
	<field name="productos_comision" class="java.math.BigDecimal"/>
	<field name="producto_almacen_cant" class="java.math.BigDecimal"/>
	<field name="producto_almacen_precio" class="java.math.BigDecimal"/>
	<field name="productos_costo_compra" class="java.math.BigDecimal"/>
	<field name="und_medida_idUnd_medida" class="java.lang.Long"/>
	<field name="almacen_dir_alm" class="java.lang.String"/>
	<field name="almacen_raz_soc" class="java.lang.String"/>
	<variable name="ganancia" class="java.lang.Double">
		<variableExpression><![CDATA[$F{producto_almacen_precio}-$F{productos_costo_compra}-($F{productos_comision}/100*$F{producto_almacen_precio})]]></variableExpression>
	</variable>
	<variable name="Total" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$V{ganancia}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="112" splitType="Stretch">
			<image>
				<reportElement x="0" y="0" width="160" height="95" uuid="daf20faa-4a9b-4760-ad40-71364dca2217"/>
				<imageExpression><![CDATA["logo_sonomusic.png"]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="160" y="0" width="395" height="41" uuid="b9b386e2-ac8c-4129-adea-050c3cd96b60"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="20" isBold="true"/>
				</textElement>
				<text><![CDATA[Reporte de Productos]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="455" y="53" width="100" height="20" uuid="5d601eb2-e045-45f6-8ea0-a529513b1c34"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="435" y="73" width="80" height="20" uuid="7b69fe38-50fb-4e52-b8fa-eefe6b014aba"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Pagina "+$V{PAGE_NUMBER}+" de"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="515" y="73" width="40" height="20" uuid="5722d19b-1e16-4756-8e34-75c59a5008fa"/>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<columnHeader>
		<band height="13" splitType="Stretch">
			<rectangle>
				<reportElement mode="Opaque" x="0" y="0" width="555" height="13" forecolor="#CCCCCC" backcolor="#CCCCCC" uuid="2bcb5e67-bb5d-4fd4-a3c1-bdd5daa817a7"/>
			</rectangle>
			<staticText>
				<reportElement x="0" y="0" width="23" height="13" uuid="d7259b00-aedc-445e-ac5a-adcdaf113153"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Id]]></text>
			</staticText>
			<staticText>
				<reportElement x="23" y="0" width="244" height="13" uuid="0b66e86e-2e22-4923-a6e1-55ad59631a26"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Producto]]></text>
			</staticText>
			<staticText>
				<reportElement x="448" y="0" width="44" height="13" uuid="37858f67-9f37-4838-a564-e5731444c977"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[P.Venta]]></text>
			</staticText>
			<staticText>
				<reportElement x="496" y="0" width="58" height="13" uuid="136bb4d2-d174-4777-bb4b-f6af434a8d1b"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Cantidad]]></text>
			</staticText>
			<staticText>
				<reportElement x="379" y="0" width="65" height="13" uuid="a654772e-ceef-40d5-bd2a-c0a5c8b90157"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[P.Compra]]></text>
			</staticText>
			<staticText>
				<reportElement x="317" y="0" width="62" height="13" uuid="a7c28e3a-e6cc-45c7-827b-a92eeee2f8dc"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Marca]]></text>
			</staticText>
			<staticText>
				<reportElement x="267" y="0" width="50" height="13" uuid="6b234135-c274-4444-8226-9c1a379ad9c2"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Serie]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="13" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="23" height="13" uuid="5d44597d-7966-4b16-9083-54fcaa2b8f40"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{productos_idProductos}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="23" y="0" width="244" height="13" uuid="434fcbc1-446d-4a93-824c-4c834665d607"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{productos_desc_pro}+" - "+$F{productos_modelo}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="379" y="0" width="65" height="13" uuid="aa93ee77-2bdb-44ad-bb96-8e78c4bb42e6"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{productos_costo_compra}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="448" y="0" width="44" height="13" uuid="d55c22aa-279d-41b6-be6b-4a62cc8c3e70"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{producto_almacen_precio}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="317" y="0" width="62" height="13" uuid="d5c23d03-48fa-47a9-93fd-d34e4e098537"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{productos_marca}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="267" y="0" width="50" height="13" uuid="fd343913-555f-449e-97e8-61172963bf63"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{productos_serie}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="496" y="0" width="58" height="13" uuid="eda3dfb5-e1eb-47bc-b2f5-a9406f530e05"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{producto_almacen_cant}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="15" splitType="Stretch"/>
	</pageFooter>
</jasperReport>
