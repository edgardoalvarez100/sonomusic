<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rpt_caja_movimiento" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="fc81d6ce-e851-4f46-a567-7fe2dd11dbd8">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="fec_mov" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="idalm" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
     movimiento.`glosa` AS glosa,
     movimiento.`fec_mov` AS fec_mov,
     movimiento.`entrada` AS entrada,
     movimiento.`salida` AS salida,
     almacen.`nom_alm` AS nom_alm,
     almacen.`idAlmacen` AS idAlmacen,
     almacen.`dir_alm` AS dir_alm,
     almacen.`ruc` AS ruc,
     almacen.`raz_soc` AS raz_soc,
     movimiento.`destino` AS destino,
     movimiento.`iddestino` AS iddestino,
     empleados.`nom_per` AS nom_per
FROM
     `almacen` almacen INNER JOIN `movimiento` movimiento ON almacen.`idAlmacen` = movimiento.`idAlmacen`
     INNER JOIN `usuario` usuario ON movimiento.`nick` = usuario.`nick`
     INNER JOIN `empleados` empleados ON usuario.`dni` = empleados.`dni`
where movimiento.`fec_mov` = $P{fec_mov}
and almacen.`idAlmacen` = $P{idalm}]]>
	</queryString>
	<field name="glosa" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="fec_mov" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="entrada" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="salida" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nom_alm" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="idAlmacen" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="dir_alm" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="ruc" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="raz_soc" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="destino" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="iddestino" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nom_per" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="parcial" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{entrada} - $F{salida}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="86" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="555" height="20" uuid="0f4c192c-da54-48d6-98b0-a3894e825ebf"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[MOVIMIENTO DE CAJA DURANTE EL DIA EN TIENDA]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="50" width="57" height="20" uuid="6caa870f-d278-45c4-a81f-0cd664391c4f"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Direccion:]]></text>
			</staticText>
			<textField>
				<reportElement x="57" y="50" width="232" height="20" uuid="7014f226-c017-42bb-ada8-4996e48c3dd8"/>
				<textFieldExpression><![CDATA[$F{dir_alm}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="57" y="30" width="100" height="20" uuid="51e25b35-a7ef-4ffd-8649-f8eed8edbfb3"/>
				<textFieldExpression><![CDATA[$F{nom_alm}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="339" y="30" width="100" height="20" uuid="375503b2-2cc0-4ce7-b45d-05b9def6dc68"/>
				<textFieldExpression><![CDATA[$F{ruc}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="339" y="50" width="216" height="20" uuid="383fffb0-9837-484f-bb75-b3cbfe994574"/>
				<textFieldExpression><![CDATA[$F{raz_soc}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="289" y="30" width="50" height="20" uuid="058b48c6-754f-4dd0-841e-b985daaaacf0"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Empresa:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="30" width="57" height="20" uuid="98bebfc2-0dc7-4a48-a748-887a2850537e"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Almacen:]]></text>
			</staticText>
			<staticText>
				<reportElement x="289" y="50" width="50" height="20" uuid="acb9bd4b-746d-47d4-832d-f1cd098b58ee"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Raz. Soc.]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="22"/>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField>
				<reportElement x="217" y="0" width="122" height="20" uuid="3c273ed5-5501-4590-a44a-f7239577f371"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{nom_per}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="455" y="0" width="50" height="20" uuid="901a3673-be75-4faf-86b1-1c4e713b2834"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{salida}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="405" y="0" width="50" height="20" uuid="0a8a0f07-8d98-40f8-9bb4-9632dc7316b3"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{entrada}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="217" height="20" uuid="04d6a819-d82c-4539-9cd3-c6a1539f2521"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{glosa}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00">
				<reportElement x="505" y="0" width="50" height="20" uuid="34ade370-5a14-4760-a5ed-bbc9f8f044f4"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{parcial}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="345" y="0" width="60" height="20" uuid="fafcb3fa-03b2-4810-8a9c-c376829c1c6c"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[( ($F{destino}.equals("C")) ? "CAJA": "BANCO")]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="20" splitType="Stretch"/>
	</columnFooter>
</jasperReport>
